#+TITLE_:
CMC CONDA HOWTO
* Conda basics
  :PROPERTIES:
  :CUSTOM_ID:
conda-basics
  :END:
[https://kiwidamien.github.io/save-the-environment-with-conda-and-how-to-let-others-run-your-programs.html][conda
reference]]

** get cmc conda
   :PROPERTIES:
   :CUSTOM_ID:
get-cmc-conda
   :END:
#+BEGIN_SRC sh
  . ssmuse-sh -x cmd/cmdm/satellite/master_u1/miniconda3_4.9.2_ubuntu-18.04-skylake-64
#+END_SRC

** create an environment
   :PROPERTIES:
   :CUSTOM_ID:
create-an-environment
   :END:
#+BEGIN_SRC sh
  conda create --name spookipy python=3.6
#+END_SRC

** activate an environment
   :PROPERTIES:
   :CUSTOM_ID:
activate-an-environment
   :END:
#+BEGIN_SRC sh
  . activate spookipy
#+END_SRC

** install stuff in the env
   :PROPERTIES:
   :CUSTOM_ID:
install-stuff-in-the-env
   :END:
#+BEGIN_SRC sh
  conda install -c conda-forge sphinx-autodoc-typehints
  conda install -c conda-forge sphinx-gallery
  conda install -c conda-forge sphinx_rtd_theme
  conda install ipykernel
  conda install jupyterlab
  conda install numpy pandas dask xarray pytest
  conda install sphinx
#+END_SRC

** export env to file
   :PROPERTIES:
   :CUSTOM_ID:
export-env-to-file
   :END:
#+BEGIN_SRC sh
  conda env exportspookipy.yaml
#+END_SRC

** deactivate the env
   :PROPERTIES:
   :CUSTOM_ID:
deactivate-the-env
   :END:
#+BEGIN_SRC sh
  conda deactivate
#+END_SRC

** deleting the env
   :PROPERTIES:
   :CUSTOM_ID:
deleting-the-env
   :END:
#+BEGIN_SRC sh
  conda env remove --name spookipy
#+END_SRC

** list all envs
   :PROPERTIES:
   :CUSTOM_ID:
list-all-envs
   :END:
#+BEGIN_SRC sh
  conda info --envs
#+END_SRC

** recreate the env from yml specs
   :PROPERTIES:
   :CUSTOM_ID:
recreate-the-env-from-yml-specs
   :END:
#+BEGIN_SRC sh
  conda env create --file spookipy.yaml
#+END_SRC
