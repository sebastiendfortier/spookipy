

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>FilterDigital &mdash; spookipy 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/spookipy_logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Start here</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Using spookipy in scripts or Jupyter Lab/Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Creating the developpement environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#getting-the-source-code">Getting the source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#building-documentation">Building documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssm.html">Creating the ssm package</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="addelementsbypoint.html">AddElementsByPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="addtoelements.html">AddToElements</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmeticmeanbypoint.html">ArithmeticMeanByPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="dewpointdepression.html">DewPointDepression</a></li>
<li class="toctree-l1"><a class="reference internal" href="georgekindex.html">GeorgeKIndex</a></li>
<li class="toctree-l1"><a class="reference internal" href="humidex.html">Humidex</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolationhorizontalgrid.html">InterpolationHorizontalGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolationhorizontalpoint.html">InterpolationHorizontalPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="mask.html">Mask</a></li>
<li class="toctree-l1"><a class="reference internal" href="minmaxlevelindex.html">MinMaxLevelIndex</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiplyelementsby.html">MultiplyElementsBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiplyelementsbypoint.html">MultiplyElementsByPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="pressure.html">Pressure</a></li>
<li class="toctree-l1"><a class="reference internal" href="saturationvapourpressure.html">SaturationVapourPressure</a></li>
<li class="toctree-l1"><a class="reference internal" href="setconstantvalue.html">SetConstantValue</a></li>
<li class="toctree-l1"><a class="reference internal" href="temperaturedewpoint.html">TemperatureDewPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="vapourpressure.html">VapourPressure</a></li>
<li class="toctree-l1"><a class="reference internal" href="windchill.html">WindChill</a></li>
<li class="toctree-l1"><a class="reference internal" href="windmax.html">WindMax</a></li>
<li class="toctree-l1"><a class="reference internal" href="windmodulus.html">WindModulus</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">Plugin</a></li>
</ul>
<p class="caption"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">spookipy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>FilterDigital</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://gitlab.science.gc.ca/cmdw-spooki/spookipy/blob/master/doc/filterdigital.rst" class="fa fa-gitlab"> Edit on GitLab</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="filterdigital">
<h1>FilterDigital<a class="headerlink" href="#filterdigital" title="Permalink to this headline">¶</a></h1>
<div class="section" id="francais">
<h2>Français<a class="headerlink" href="#francais" title="Permalink to this headline">¶</a></h2>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p>Appliquer un filtre digital de type Stencil sur un jeu de données.</p></li>
<li><p>Le filtre, appliqué en un point donné, dans une des directions du
champ donné, se caractérise par une liste de poids (nombre impair)
symétriques par rapport au point considéré, et par le nombre de fois
où celui-ci est appliqué.</p></li>
<li><p>Le filre est appliqué successivement dans chacune des directions du
champ donné.</p></li>
</ul>
<p>*Méthode d’itération:*</p>
<ul class="simple">
<li><p>Point par point</p></li>
</ul>
<p>*Dépendances:*</p>
<ul class="simple">
<li><p>Un champ météorologique sur une grille.</p></li>
</ul>
<p>*Résultat(s):*</p>
<ul class="simple">
<li><p>Les valeurs du champ météorologique filtrées.</p></li>
</ul>
<p>*Algorithme:*</p>
<blockquote>
<div><p>Soit F, un champ donné de composantes F(i), dans la direction NI
(i=1, NI).</p>
<div class="line-block">
<div class="line">Soit <span class="math notranslate nohighlight">\(\mbox{ $w_n$}\)</span>, (n=1,N), une liste de N poids associés
au filtre digital appliqué sur le champ F, dont le résultat
<span class="math notranslate nohighlight">\(\mbox{
$F^*$}\)</span> sur chaque composante,</div>
<div class="line">s’exprime selon :</div>
</div>
<p><span class="math notranslate nohighlight">\(\mbox{ $F^*(i) = \frac {\sum_{n=1}^{N} w_n F(i -
{\scriptstyle[\frac{N+1}{2}- n]})}{\sum_{n=1}^{N} w_n}$}\)</span>
<span class="math notranslate nohighlight">\(\mbox{ $, 2 \leq i \leq NI-1$}\)</span></p>
<p>Cette opération est répétée (clé “repetitions”), dans la direction
NI, autant de fois que le nombre spécifié en paramètre.</p>
<p>On procède de la même façon dans chaque direction du champ F,
successivement.</p>
<p><strong>*Note:*</strong> : Dans le cas d’un champ 2D, l’algorithme est d’abord
appliqué dans la direction NI, puis dans la direction NJ.</p>
</div></blockquote>
<p><strong>Références:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.cmc.ec.gc.ca/images/d/dc/Spooki_-_Filtre_html.pdf">Inspiré de la fonction FILTRE (*stenfilt.f*) de l’utilitaire
PGSM</a></p></li>
</ul>
<p>*Mots clés:*</p>
<ul class="simple">
<li><p>UTILITAIRE/UTILITY, filtre/filter, digital, stencil</p></li>
</ul>
<p>*Usage:*</p>
<p><strong>Exemple d’appel:</strong></p>
<div class="highlight-example notranslate"><div class="highlight"><pre><span></span>...
spooki_run &quot;[ReaderStd     --input $SPOOKI_DIR/pluginsRelatedStuff/FilterDigital/testsFiles/inputFile.std] &gt;&gt;
            [FilterDigital --filter 1,2,1 --repetitions 2] &gt;&gt;
            [WriterStd     --output /tmp/$USER/outputFile.std]&quot;
...
</pre></div>
</div>
<p><strong>Validation des résultats:</strong></p>
<p><strong>Contacts:</strong></p>
<ul class="simple">
<li><p>Auteur(e) : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/User:Yazidih">Hatem
Yazidi</a></p></li>
<li><p>Codé par : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/User:Fortiers">Sébastien
Fortier</a></p></li>
<li><p>Support : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/CMDW">CMDW</a> /
<a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/CMDS">CMDS</a></p></li>
</ul>
<p>Voir la référence à</p>
<p>Tests unitaires</p>
<div class="line-block">
<div class="line"><strong>Ce plugin utilise:</strong></div>
<div class="line"><strong>Ce plugin est utilisé par:</strong></div>
</div>
</div>
<div class="section" id="english">
<h2>English<a class="headerlink" href="#english" title="Permalink to this headline">¶</a></h2>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p>Apply a digital filter of Stencil type on a data set.</p></li>
<li><p>The filter, applied on one given point, in one direction of the given
field, is characterized by a list of weights (odd number) symmetrical
to the considered point and to the number of times it is applied.</p></li>
<li><p>The filter is applied successively in each direction of the given
field.</p></li>
</ul>
<p>*Iteration method:*</p>
<ul class="simple">
<li><p>Point-by-point</p></li>
</ul>
<p>*Dependencies:*</p>
<ul class="simple">
<li><p>A meteorological field on a grid.</p></li>
</ul>
<p>*Result(s):*</p>
<ul class="simple">
<li><p>The filtered values of the meteorological field.</p></li>
</ul>
<p>*Algorithm:*</p>
<blockquote>
<div><p>For F, a given field of components F(i), in the direction NI
(i=1,NI).</p>
<p>For <span class="math notranslate nohighlight">\(\mbox{ $w_n$}\)</span>, (n=1,N), a list of N weights associated
to the digital filter applied on the F field, which the result
<span class="math notranslate nohighlight">\(\mbox{
$F^*$}\)</span> on each component is expressed as :</p>
<p><span class="math notranslate nohighlight">\(\mbox{ $F^*(i) = \frac {\sum_{n=1}^{N} w_n F(i -
{\scriptstyle[\frac{N+1}{2}- n]})}{\sum_{n=1}^{N} w_n}$}\)</span>
<span class="math notranslate nohighlight">\(\mbox{ $, 2 \leq i \leq NI-1$}\)</span></p>
<p>This operation is repeated (“repetitions” key), in the direction NI,
as many times as the specified number in parameter.</p>
<p>We proceed in the same way in each direction of the F field,
successively.</p>
<p><strong>*Note:*</strong> : in the case of a 2D field, the algorithm is first
applied in the direction NI, and then in the direction NJ.</p>
</div></blockquote>
<p><strong>Reference:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.cmc.ec.gc.ca/images/d/dc/Spooki_-_Filtre_html.pdf">Inspired from the FILTRE function (stenfilt.f) of the PGSM
utility</a></p></li>
</ul>
<p>*Keywords:*</p>
<ul class="simple">
<li><p>UTILITAIRE/UTILITY, filtre/filter, digital, stencil</p></li>
</ul>
<p>*Usage:*</p>
<p><strong>Call example:</strong></p>
<div class="highlight-example notranslate"><div class="highlight"><pre><span></span>...
spooki_run &quot;[ReaderStd     --input $SPOOKI_DIR/pluginsRelatedStuff/FilterDigital/testsFiles/inputFile.std] &gt;&gt;
            [FilterDigital --filter 1,2,1 --repetitions 2] &gt;&gt;
            [WriterStd     --output /tmp/$USER/outputFile.std]&quot;
...
</pre></div>
</div>
<p><strong>Results validation:</strong></p>
<p><strong>Contacts:</strong></p>
<ul class="simple">
<li><p>Author : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/User:Yazidih">Hatem
Yazidi</a></p></li>
<li><p>Coded by : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/User:Fortiers">Sébastien
Fortier</a></p></li>
<li><p>Support : <a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/CMDW">CMDW</a> /
<a class="reference external" href="https://wiki.cmc.ec.gc.ca/wiki/CMDS">CMDS</a></p></li>
</ul>
<p>Reference to</p>
<p>Units tests</p>
<div class="line-block">
<div class="line"><strong>Uses:</strong></div>
<div class="line"><strong>Used by:</strong></div>
</div>
</div>
<div class="section" id="module-spookipy.filterdigital.filterdigital">
<span id="python-module"></span><h2>Python Module<a class="headerlink" href="#module-spookipy.filterdigital.filterdigital" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spookipy.filterdigital.filterdigital.FilterDigital">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">spookipy.filterdigital.filterdigital.</span></span><span class="sig-name descname"><span class="pre">FilterDigital</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repetitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomvar_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spookipy.filterdigital.filterdigital.FilterDigital" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="spookipy.filterdigital.filterdigital.FilterDigital.compute">
<span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spookipy.filterdigital.filterdigital.FilterDigital.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method that should implement the plugin’s algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dataframe with the results</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spookipy.filterdigital.filterdigital.FilterDigital.validate_input">
<span class="sig-name descname"><span class="pre">validate_input</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spookipy.filterdigital.filterdigital.FilterDigital.validate_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the plugin’s dataframe is not empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="plugin.html#spookipy.plugin.plugin.EmptyDataframeError" title="spookipy.plugin.plugin.EmptyDataframeError"><strong>EmptyDataframeError</strong></a> – The plugin’s dataframe is empty, no data to process.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="spookipy.filterdigital.filterdigital.FilterDigitalError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">spookipy.filterdigital.filterdigital.</span></span><span class="sig-name descname"><span class="pre">FilterDigitalError</span></span><a class="headerlink" href="#spookipy.filterdigital.filterdigital.FilterDigitalError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Sébastien Fortier.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>